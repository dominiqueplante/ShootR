var Leaderboard=function(){function n(n,t,i){this._gameHUD=n,this._myShip=t,this._connection=i,this._leaderboardHolder=$("#leaderboardHolder, #doublePopupHolder"),this._leaderboard=$("#leaderboard"),this._popUpHolder=$("#popUpHolder"),this._gameCover=$("#GameCover"),this._myRanking=$("#myRanking"),this._leaderboardRows=[],this.LeaderboardUp=!1,this.initializeLeaderboardRows(),this.applyKeyboardShortcuts()}return n.prototype.initializeLeaderboardRows=function(){var r=$("#leaderboard .row"),t,i;for(this._leaderboardRows.push(r),t=0;t<n.LEADERBOARD_SIZE-1;t++)i=r.clone(),this._leaderboardRows.push(i),this._leaderboard.append(i)},n.prototype.bindToLeaderboard=function(n){for(var i,r,u,t=0;t<n.length;t++){i=$(this._leaderboardRows[t]),n[t].ID===this._myShip.ID?(n[t].Photo.length===0&&(n[t].Photo="Images/HUD/You_Default.png"),i.addClass("highlight")):i.removeClass("highlight"),r=i.find(".lbPhoto"),n[t].Photo.length===0&&(n[t].Photo="Images/HUD/KilledBy_Default.png"),r.attr("src")!==n[t].Photo&&r.attr("src",n[t].Photo),delete n[t].Photo,delete n[t].ID;for(u in n[t])i.find(".lb"+u).html(n[t][u])}},n.prototype.applyKeyboardShortcuts=function(){var n=this;shortcut.add("Tab",function(){n.toggleLeaderboard()},{disable_in_input:!0}),$("#GlobalRanking").click(function(){n.toggleLeaderboard()})},n.prototype.toggleLeaderboard=function(){this.LeaderboardUp?this.hideLeaderboard():this.showLeaderboard()},n.prototype.showLeaderboard=function(){this._leaderboard.hasClass("goLeft")||(this.LeaderboardUp=!0,this._myShip.ResetTouchController(),this._leaderboardHolder.css("display","block"),this._popUpHolder.fadeIn(350),this._gameCover.fadeIn(350),this._connection.server.readyForLeaderboardPayloads())},n.prototype.hideLeaderboard=function(){var n=this;this._leaderboard.hasClass("goLeft")||(this.LeaderboardUp=!1,this._popUpHolder.fadeOut(200,function(){n._leaderboardHolder.css("display","none")}),this._gameCover.fadeOut(200),this._connection.server.stopLeaderboardPayloads())},n.prototype.Load=function(n){this.bindToLeaderboard(n)},n}()