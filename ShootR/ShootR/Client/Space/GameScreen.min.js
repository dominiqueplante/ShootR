var GameScreen=function(){function n(n,t,i,r){this._gameCanvas=n,this._gameWrapper=t,this._popUpHolder=i,this._connection=r,this.Viewport=this.UpdateViewport();var u=this;$(window).resize(function(){delay(function(){u.screenResizeEvent()},250)})}return n.MAX_SCREEN_WIDTH=1e4,n.MAX_SCREEN_HEIGHT=1e4,n.MIN_SCREEN_WIDTH=-1,n.MIN_SCREEN_HEIGHT=-1,n.prototype.updateGameCanvas=function(){this._gameCanvas.attr("width",this.Viewport.Width),this._gameCanvas.attr("height",this.Viewport.Height),this._gameWrapper.css("width",this.Viewport.Width),this._gameWrapper.css("height",this.Viewport.Height),this._popUpHolder&&(this._popUpHolder.css("width",this.Viewport.Width),this._popUpHolder.css("height",this.Viewport.Height))},n.prototype.UpdateGameCamera=function(){CanvasContext.Camera.View=new Size($(this._gameCanvas).width()+n.SCREEN_BUFFER_AREA)},n.prototype.updateScreen=function(){this.Viewport=this.UpdateViewport(),this.updateGameCanvas(),this.UpdateGameCamera(),CanvasContext.UpdateSize(this.Viewport),this.SendNewViewportToServer(),this._gameHUD&&this._gameHUD.OnScreenResize(this.Viewport),$(this).triggerHandler("UpdateScreen")},n.prototype.screenResizeEvent=function(){var n=this;this.updateScreen(),setTimeout(function(){n.updateScreen()},1500)},n.prototype.Initialize=function(n){this._gameHUD=n,this.screenResizeEvent()},n.prototype.UpdateViewport=function(){return new Size(Math.max(Math.min($(window).width(),n.MAX_SCREEN_WIDTH),n.MIN_SCREEN_WIDTH),Math.max(Math.min($(window).height(),n.MAX_SCREEN_HEIGHT),n.MIN_SCREEN_HEIGHT))},n.prototype.SendNewViewportToServer=function(){this._connection.server.changeViewport(this.Viewport.Width,this.Viewport.Height)},n}()