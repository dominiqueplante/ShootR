var Map=function(){function n(){}return n.BARRIER_DEPRECATION=.75,n.prototype.mapContains=function(t,i,r){return t.X>=0&&t.X+i<=n.WIDTH&&t.Y>=0&&t.Y+r<=n.HEIGHT},n.prototype.CheckBoundaryCollisions=function(t,i){var u,r;for(r in t)this.mapContains(t[r].MovementController.Position,t[r].WIDTH,t[r].HEIGHT)||($(t[r]).triggerHandler("OnOutOfBounds"),t[r].MovementController.Position.X<0||t[r].MovementController.Position.X+t[r].WIDTH>n.WIDTH?u=new Vector2(-n.BARRIER_DEPRECATION,n.BARRIER_DEPRECATION):(t[r].MovementController.Position.Y<0||t[r].MovementController.Position.Y+t[r].HEIGHT>n.HEIGHT)&&(u=new Vector2(n.BARRIER_DEPRECATION,-n.BARRIER_DEPRECATION)),t[r].MovementController.RepositionInBounds(t[r].WIDTH,t[r].HEIGHT),t[r].MovementController.Forces=Vector2.MultiplyV(t[r].MovementController.Forces,u),t[r].MovementController.Velocity=Vector2.MultiplyV(t[r].MovementController.Velocity,u));for(r in i)this.mapContains(i[r].MovementController.Position,i[r].WIDTH,i[r].HEIGHT)||(i[r].Visible=!1,i[r].MovementController.Velocity.X=0,i[r].MovementController.Velocity.Y=0)},n.prototype.Draw=function(){CanvasContext.drawMapBoundary(new Size(n.WIDTH,n.HEIGHT))},n}()